## 第一章 概述

**1-21 协议与服务有何区别?有何关系**

- 协议和服务的概念的区分：

  - 协议的实现保证了能够向上一层提供服务。本层的服务用户只能看见服务而无法看见下面的协议。下面的协议对上面的服务用户是透明的。
  - 协议是“水平的”，即协议是控制两个对等实体进行通信的规则。但服务是“垂直的”，即服务是由下层通过层间接口向上层提供的。上层使用所提供的服务必须与下层交换一些命令，这些命令在 OSI 中称为服务原语。

- 另附
  - <font color='#66ccff'>协议(网络协议)</font>: 是为了进行网络中的数据交换而建立的规则、标准或约定，是控制两个对等实体进行通信的规则的集合。
  - <font color='#66ccff'>服务</font>：下层为相邻上层提供的功能调用

**1-22 网络协议的三个要素是什么?各有什么含义?**

- <font color='#66ccff'>语法</font>：传输数据的格式
- <font color='#66ccff'>语义</font>：规定了所要完成的功能 (比如, 需要发出何种控制信息，完成何种动作以及做出何种响应)

- <font color='#66ccff'>同步</font>：各种操作的条件, 操作顺序的详细说明

**1-26 试解释以下名词：协议栈、实体、对等层、协议数据单元、服务访问点、客户、服务器、客户-服务器方式。**

- <font color='#66ccff'>实体(entity)</font>: 表示任何可发送或接收信息的硬件或软件进程
- <font color='#66ccff'>协议</font>是控制两个对等实体进行通信的规则的集合
- <font color='#66ccff'>协议栈</font>:指计算机网络体系结构采用分层模型后,每层的主要功能由对等层协议的运行来实现,因而每层可用一些主要协议来表征,几个层次画在一起很像一个栈的结构
- <font color='#66ccff'>对等层</font>:在网络体系结构中,通信双方实现同样功能的层
- <font color='#66ccff'>协议数据单元</font>:对等层实体进行信息交换的数据单位
- <font color='#66ccff'>服务访问点</font>:在同一系统中相邻两层的实体进行交互（即交换信息）的地方
  - 服务访问点 SAP 是一个抽象的概念,它实体上就是一个逻辑接口
- <font color='#66ccff'>客户(client)</font>和<font color='#66ccff'>服务器(server)</font>都是指通信中所涉及的两个应用进程
  - 客户是服务的请求方，服务器是服务的提供方。客户–服务器方式所描述的是进程之间服务和被服务的关系。

## 第二章 物理层

**2-04 试解释以下名词：数据，信号，模拟数据，模拟信号，基带信号，带通信号，数字数据，数字信号，码元，单工通信，半双工通信，全双工通信，串行传输，并行传输。**

- <font color='#66ccff'>数据</font>：是运送信息的实体。

  - <font color='#66ccff'>模拟数据</font>：运送信息的模拟信号。
  - <font color='#66ccff'>数字数据</font>：取值为不连续数值的数据。

- <font color='#66ccff'>信号</font>：则是数据的电气的或电磁的表现。

  - <font color='#66ccff'>模拟信号</font>：连续变化的信号。
  - <font color='#66ccff'>基带信号</font>：来自信源的信号。像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。
  - <font color='#66ccff'>带通信号</font>：把基带信号经过载波调制后，把信号的频率范围搬移到较高的频段以便在信道中传输。

  - <font color='#66ccff'>数字信号</font>：取值为有限的几个离散值的信号。

- <font color='#66ccff'>码元</font>：在使用时间域的波形表示数字信号时，代表不同离散数值的基本波形。

- 通信

  - <font color='#66ccff'>单工通信</font>：即只有一个方向的通信而没有反方向的交互。
  - <font color='#66ccff'>半双工通信</font>：即通信和双方都可以发送信息，但不能双方同时发送（当然也不能同时接收）。这种通信方式是一方发送另一方接收，过一段时间再反过来。
  - <font color='#66ccff'>全双工通信</font>：即通信的双方可以同时发送和接收信息。

- 传输

  - <font color='#66ccff'>串行传输</font>：使用一根数据线传输数据，一次传输 1 个比特，多个比特需要一个接一个依次传输。
  - <font color='#66ccff'>并行传输</font>：使用多根数据线一次传输多个比特。

**2-14 试写出下列英文缩写的全文，并做简单的解释。FDM,TDM,STDM,WDM,DWDM,CDMA,SONET,SDH,STM-1 ,OC-48.**

- FDM(frequency division multiplexing) 频分复用
- TDM(Time Division Multiplexing) 时分复用
- STDM(Statistic Time Division Multiplexing) 统计时分复用 （按需动态分配时隙）
- WDM(Wave Division Multiplexing) 波分复用 （光的频分复用）
- DWDM(Dense Wave Division Multiplexing) 密集波分复用 （没听说过）
- CDMA(Code Wave Division Multiplexing) 码分多址
- SONET(Synchronous Optical Network) 同步光纤网
- SDH(Synchronous Digital Hierarchy) 同步数字系列
- STM-1(Synchronous Transfer Module) 第 1 级同步传递模块
- OC-48(Optical Carrier)第 48 级光载波

**2-17 试比较 ADSL, HFC 以及 FTTx 接入技术的优缺点** <font color='orange'>【宽带接入技术】</font>

- <font color='#66ccff'>ADSL 技术</font>就是用数字技术对现有的模拟电话用户线进行改造，使它能够承载宽带业务。成本低，易实现，但带宽和质量差异性大。
- <font color='#66ccff'>HFC 网</font>的最大的优点具有很宽的频带，并且能够利用已经有相当大的覆盖面的有线电视网。要将现有的 450 MHz 单向传输的有线电视网络改造为 750 MHz 双向传输的 HFC 网需要相当的资金和时间。
- <font color='#66ccff'>FTTx（光纤到……）</font>这里字母 x 可代表不同意思。可提供最好的带宽和质量、但现阶段线路和工程成本太大。

**2-18 为什么在 ASDL 技术中，在不到 1MHz 的带宽中却可以传送速率高达每秒几个兆比？**

- 靠先进的 DMT 编码，频分多载波并行传输、使得每秒传送一个码元就相当于每秒传送多个比特

## 第三章 数据链路层

**3-04 数据链路层的三个基本问题(帧定界、透明传输和差错检测)为什么都必须加以解决？**

- <font color='#66ccff'>帧定界</font>是分组交换的必然要求
- <font color='#66ccff'>透明传输</font>避免消息符号与帧定界符号相混淆
- <font color='#66ccff'>差错检测</font>防止合差错的无效数据帧浪费后续路由上的传输和处理资源

**3-05 如果在数据链路层不进行帧定界，会发生什么问题？**

- 无法区分分组与分组无法确定分组的控制域和数据域无法将差错更正的范围限定在确切的局部。

**3-10 PPP 协议使用同步传输技术传送比特串`0110111111111100`。试问经过零比特填充后变成怎样的比特串？若接收端收到的 PPP 帧的数据部分是`0001110111110111110110`，问删除发送端加入的零比特后变成怎样的比特串？**

- 0 比特填充后：`011011111011111000`
- 删除零比特后：`00011101111111111110`

**3-18 试说明 10BASE-T 中的“10”、“BASE”和“T”所代表的意思。**

- 10BASE-T 中的“10”表示信号在电缆上的传输速率为 10MB/s
- “BASE”表示电缆上的信号是基带信号
- “T”代表双绞线星形网，但 10BASE-T 的通信距离稍短，每个站到集线器的距离不超过 100m。

## 第四章 网络层

**4-03 作为中间设备，转发器、网桥、路由器和网关有何区别？**

- 中间设备又称为中间系统或中继(relay)系统。
- 物理层中继系统：转发器(repeater)。<font color='orange'>(还有集线器)</font>
- 数据链路层中继系统：网桥或桥接器(bridge)。<font color='orange'>(还有交换机)</font>
- 网络层中继系统：路由器(router)。
- 网络层以上的中继系统：网关(gateway)。

**4-13 什么是最大传送单元 MTU？它和 IP 数据报的首部中的哪个字段有关系？**

- IP 层下的数据链路层 所限定的帧格式中数据字段的最大长度，与 IP 数据报首部中的**总长度字段**有关系，限制了总长度字段的大小。
- 另附: <img src="https://yj-notes.oss-cn-hangzhou.aliyuncs.com/image/image-20230417175646494.png" alt="image-20230417175646494" style="zoom:50%;" />

**4-34 IGP 和 EGP 这两类协议得主要区别是什么？**

- IGP：在自治系统内部使用的路由协议；力求最佳路由
- EGP：在不同自治系统便捷使用的路由协议；力求较好路由（不兜圈子）
- EGP 必须考虑其他方面的政策，需要多条路由。代价费用方面可能可达性更重要。
- IGP：内部网关协议，只关心本自治系统内如何传送数据报，与互联网中其他自治系统使用什么协议无关。
- EGP：外部（边界）网关协议，在不同的 AS 边界传递路由信息的协议，不关心 AS 内部使用何种协议。

**4-35 试简述 RIP，OSPF 和 BGP 路由选择协议得主要特点。**

| 主要特点     | RIP                                                        | OSPF                                       | BGP                      |
| ------------ | ---------------------------------------------------------- | ------------------------------------------ | ------------------------ |
| 网关协议     | 内部                                                       | 内部                                       | 外部                     |
| 路由表内容   | 目的网，下一站，距离                                       | 目的网，下一站，距离                       | 目的网，完整路径         |
| 最优通路依据 | 跳数                                                       | 费用                                       | 多种策略                 |
| 算法         | 距离矢量                                                   | 链路状态                                   | 距离矢量                 |
| 传送方式     | 运输层 UDP                                                 | IP 数据报                                  | 建立 TCP 连接            |
| 其他特点     | 简单、效率低、跳数为 16 不可达、好消息传的快，坏消息传的慢 | 效率高、路由器频繁交换信息，难以维持一致性 | 规模大、统一度量为可达性 |

**4-36 RIP 使用 UDP，OSPF 使用 IP，而 BGP 使用 TCP。这样做有何优点？为什么 RIP 周期性地和临站交换路由器由信息而 BGP 却不这样做？**

- **RIP**只和邻站交换信息，使用 UDP 无可靠保障，但开销小，可以满足 RIP 要求；
- **OSPF**使用可靠的洪泛法，直接使用 IP，灵活、开销小；
- **BGP**需要交换整个路由表和更新信息，TCP 提供可靠交付以减少带宽消耗；
- **RIP**使用不保证可靠交付的 UDP，因此必须==不断地== （周期性地）和邻站交换信息才能使路由信息及时得到更新。但 BGP 使用保证可靠交付的 TCP 因此不需要这样做。

**4-52 建议的 IPv6 协议没有首部检验和。这样做的优缺点是什么？**

- **优点**:对首部的处理更简单。因为如果检验和错误，数据链路层会将有差错的帧丢弃,而网络层正好可以省去这一步骤，不用重复操作;
- **缺点**:可能遇到数据链路层检测不出来的差错。

**4-53 在 IPv4 首部中有一个“协议”字段，但在 IPv6 的固定首部却没有。这是为什么？**

- 在 IP 数据报传送的路径上的所有路由器都不需要这一字段的信息，只有目的主机才需要。
- 在 IPv6 使用“下一个首部”字段完成 IPv4 中的“协议”字段的功能。（下一个首部的值指出了基本首部后面的数据应交付给 IP 上面的哪一个高层协议(如 TCP，UDP)。当出现==扩展首部== 时，下一个首部字段的值就标识后面第一个扩展首部的类型。）

**4-59 从 IPv4 过渡到 IPv6 的方法有哪些？**

- 主要是三种方法：
  - 双栈技术：主机或路由器同时装有 IPV4 和 IPV6 两个协议栈，因此主机既能和 IPV4 通信， 也能和 IPV6 通信。
  - 隧道技术：在 IPV6 分组进入 IPV4 网络时，将 IPV6 分组封装成 IPV4 分组; 当 **封装成 IPV4 分组的 IPV6 分组** 离开 IPV4 网络时，再将数据部分（IPV6 部分）转发给目的节点。
  - 协议翻译技术：对 IPV6 和 IPV4 报头时行相互翻译，实现 IPV4/IPV6 协议和地址的转换。

## 第五章 运输层

**5-03 当应用程序使用面向连接的 TCP 和无连接的 IP 时，这种传输是面向连接的还是面向无连接的？**

- 都是。但这要在不同层次来看，在运输层是面向连接的，在网络层则是无连接的。

**5-11 某个应用进程使用运输层的用户数据报 UDP，然而继续向下交给 IP 层后，又封装成 IP 数据报。既然都是数据报，可否跳过 UDP 而直接交给 IP 层？哪些功能 UDP 提供了但 IP 没提提供？**

- 不可跳过 UDP 而直接交给 IP 层。IP 数据报只能承担主机寻址，提供报头检错；只能找到目的主机而无法找到目的进程。UDP 提供对应用进程的复用和分用功能，以及提供对数据差分的差错检验。

**5-12 一个应用程序用 UDP，到 IP 层把数据报在划分为 4 个数据报片发送出去，结果前两个数据报片丢失，后两个到达目的站。过了一段时间应用程序重传 UDP，而 IP 层仍然划分为 4 个数据报片来传送。结果这次前两个到达目的站而后两个丢失。试问：在目的站能否将这两次传输的 4 个数据报片组装成完整的数据报？假定目的站第一次收到的后两个数据报片仍然保存在目的站的缓存中。**

- 不行。重传时，IP 数据报的标识字段会有另一个标识符。仅当标识符相同的 IP 数据报片才能组装成一个 IP 数据报。前两个 IP 数据报片的标识符与后两个 IP 数据报片的标识符不同，因此不能组装成一个 IP 数据报。

**5-25 为什么在 TCP 首部中要把 TCP 端口号放入最开始的 4 个字节？**

- 在 ICMP 的差错报文中要包含 IP 首部后面的 8 个字节的内容，而这里面有 TCP 首部中的源端口和目的端口。当 TCP 收到 ICMP 差错报文时需要用这两个端口来确定是哪条连接出了差错。

**5-26 为什么在 TCP 首部中有一个首部长度字段，而 UDP 的首部中就没有这个这个字段？**

- TCP 首部除固定长度部分外，还有选项，因此 TCP 首部长度是可变的。而 UDP 首部长度是固定的。

**5-29 在使用 TCP 传送数据时，如果有一个==确认== 报文段丢失了，也不一定会引起与该确认报文段对应的数据的重传。试说明理由。**

- 有可能是还未重传就收到了对更高序号的确认。因为 TCP 接收方只会对按序到达的最后一个分组发送确认<font color='orange'>（累积确认）</font>。当对更高的序号确认了，意味着已经到达了，即不用重传了。

## 第六章 应用层

**6-02 域名系统的主要功能是什么？域名系统中的本地域名服务器、根域名服务器、顶级域名服务器以及权限域名权服务器有何区别？**

- 域名系统的主要功能：将域名解析为主机能识别的**IP 地址**。
- 因特网上的域名服务器系统是按照域名的层次来安排的。每一个域名服务器都只对域名体系中的一部分进行管辖。
- 共有三种不同类型的域名服务器(<font color='#66ccff'>本地域名服务器</font>、<font color='#66ccff'>根域名服务器</font>、<font color='#66ccff'>授权域名服务器</font>)。
- 当一个本地域名服务器不能立即回答某个主机的查询时，该本地域名服务器就以 DNS 客户的身份向某一个根域名服务器查询。若根域名服务器有被查询主机的信息，就发送 DNS 回答报文给本地域名服务器，然后本地域名服务器再回答发起查询的主机。但当根域名服务器没有被查询的主机的信息时，它一定知道某个保存有被查询的主机名字映射的授权域名服务器的 IP 地址。通常根域名服务器用来管辖顶级域。根域名服务器并不直接对顶级域下面所属的所有的域名进行转换，但它一定能够找到下面的所有二级域名的域名服务器。
- 每一个主机都必须在授权域名服务器处注册登记。通常，一个主机的授权域名服务器就是它的主机 ISP 的一个域名服务器。授权域名服务器总是能够将其管辖的主机名转换为该主机的 IP 地址。因特网允许各个单位根据本单位的具体情况将本域名划分为若干个域名服务器管辖区。一般就在各管辖区中设置相应的授权域名服务器。

**6-03 举例说明域名转换的过程。域名服务器中的高速缓存的作用是什么？**

- 应用进程查询一个域名时, 将待解析域名放在 DNS 请求报文中, 用 UDP 数据报发送给本地 DNS 服务器, 通过递归/迭代查询获得转换后的域名, 将对应的 IP 解析结果放在回答报文返回, 应用进程由此得到 IP 地址
- 高速缓存作用: 减轻根域名服务器的负荷，使因特网上的 DNS 查询请求和回答报文的数量大为减少。

**6-08 解释以下名词。各英文缩写词的原文是什么？www,URL.HTTP,HTML,CGI,浏览器，超文本，超媒体，超链，页面，活动文档，搜索引擎。**

- www:万维网 WWW（World Wide Web）并非某种特殊的计算机网络。万维网是一个大规模的、联机式的信息储藏所，英文简称为 Web.万维网用链接的方法能非常方便地从因特网上的一个站点访问另一个站点（也就是所谓的“链接到另一个站点”），从而主动地按需获取丰富的信息。
- URL:为了使用户清楚地知道能够很方便地找到所需的信息，万维网使用统一资源定位符 URL（Uniform Resource Locator）来标志万维网上的各种文档，并使每一个文档在整个因特网的范围内具有唯一的标识符 URL.
- HTTP:为了实现万维网上各种链接，就要使万维网客户程序与万维网服务器程序之间的交互遵守严格的协议，这就是超文本传送协议 HTTP.
  - HTTP 是一个应用层协议，它使用 TCP 连接进行可靠的传送。
- CGI:通用网关接口 CGI 是一种标准，它定义了动态文档应该如何创建，输入数据应如何提供给应用程序，以及输出结果意如何使用。
  - CGI 程序的正式名字是 CGI 脚本。按照计算机科学的一般概念。
- 浏览器:一个浏览器包括一组客户程序、一组解释程序，以及一个控制程序。
- 超文本:超文本的基本特征就是可以超链接文档；你可以指向其他位置，该位置可以在当前的文档中、局域网中的其他文档，也可以在因特网上的任何位置的文档中。这些文档组成了一个杂乱的信息网。目标文档通常与其来源有某些关联，并且丰富了来源；来源中的链接元素则将这种关系传递给浏览者。
- 超媒体：超级媒体的简称,是超文本（hypertext）和多媒体在信息浏览环境下的结合。
- 超链：超链接可以用于各种效果。超链接可以用在目录和主题列表中。浏览者可以在浏览器屏幕上单击鼠标或在键盘上按下按键，从而选择并自动跳转到文档中自己感兴趣的那个主题，或跳转到世界上某处完全不同的集合中的某个文档。超链接（hyper text），或者按照标准叫法称为锚（anchor），是使用标签标记的，可以用两种方式表示。锚的一种类型是在文档中创建一个热点，当用户激活或选中（通常是使用鼠标）这个热点时，会导致浏览器进行链接。
- 页面：页面，类似于单篇文章页面，但是和单篇文章不同的是：1.每个页面都可以自定义样式，而单篇文章则共用一个样式。2.页面默认情况一般不允许评论，而单篇文章默认情况允许评论。3.页面会出现在水平导航栏上，不会出现在分类和存档里，而单篇文章会出现在分类和存档里，不会出现在水平导航栏上。
- 活动文档：即正在处理的文档。在 Microsof t Word 中键入的文本或插入的图形将出现在活动文档中。活动文档的标题栏是突出显示的。一个基于 Windows 的、嵌入到浏览器中的非 HTML 应用程序，提供了从浏览器界面访问这些应用程序的功能的方法。
- 搜索引擎：搜索引擎指能够自动从互联网上搜集信息，经过整理以后，提供给用户进行查阅的系统。

**6-23 试简述 SMTP 通信的三个阶段的过程。**

1. 连接建立：连接是在发送主机的 SMTP 客户和接收主机的 SMTP 服务器之间建立的。SMTP 不使用中间的邮件服务器。
2. 邮件传送。
3. 连接释放：邮件发送完毕后，SMTP 应释放 TCP 连接。
