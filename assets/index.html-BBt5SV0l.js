import{_ as d,c as o,a as l,b as s,d as a,e,w as r,r as t,o as p}from"./app-AuyBpmKP.js";const k={},u={id:"éœ€æ±‚-â†’-è®¾è®¡-â†’-ä»£ç -â†’-fault-â†’-error-â†’-failure",tabindex:"-1"},c={class:"header-anchor",href:"#éœ€æ±‚-â†’-è®¾è®¡-â†’-ä»£ç -â†’-fault-â†’-error-â†’-failure"},g={id:"éœ€æ±‚-â†’-è®¾è®¡-â†’-ä»£ç -â†’-fault-â†’-error-â†’-failure-1",tabindex:"-1"},f={class:"header-anchor",href:"#éœ€æ±‚-â†’-è®¾è®¡-â†’-ä»£ç -â†’-fault-â†’-error-â†’-failure-1"},b={id:"éœ€æ±‚-â†’-è®¾è®¡-â†’-ä»£ç -â†’-fault-â†’-error-â†’-failure-2",tabindex:"-1"},y={class:"header-anchor",href:"#éœ€æ±‚-â†’-è®¾è®¡-â†’-ä»£ç -â†’-fault-â†’-error-â†’-failure-2"};function m(A,i){const h=t("VPLink"),n=t("font");return p(),o("div",null,[i[10]||(i[10]=l(`<blockquote><p>æ¥è‡ªè’‹ç‚å²©è€å¸ˆçš„OS2024Springè¯¾ç¨‹</p><ul><li><a href="https://jyywiki.cn/OS/2024/lect8.md" target="_blank" rel="noopener noreferrer">Yanyan&#39;s Wiki (jyywiki.cn)</a></li><li><a href="https://www.bilibili.com/video/BV16p421U7fk" target="_blank" rel="noopener noreferrer">08-è°ƒè¯•ç†è®ºä¸å®è·µ (Fault, Error, Failureï¼›è°ƒè¯•ä¸€åˆ‡)ã€å—äº¬å¤§å­¦2024æ“ä½œç³»ç»Ÿã€‘</a></li></ul></blockquote><h2 id="è°ƒè¯•å¿ƒæ€" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•å¿ƒæ€"><span>è°ƒè¯•å¿ƒæ€</span></a></h2><h3 id="å…¬ç†-1-æœºå™¨æ°¸è¿œæ˜¯å¯¹çš„" tabindex="-1"><a class="header-anchor" href="#å…¬ç†-1-æœºå™¨æ°¸è¿œæ˜¯å¯¹çš„"><span>å…¬ç† 1ï¼š<strong>æœºå™¨æ°¸è¿œæ˜¯å¯¹çš„</strong></span></a></h3><ul><li>CPU: â€œæ— æƒ…çš„ã€æ‰§è¡ŒæŒ‡ä»¤çš„æœºå™¨â€</li><li>Crash, Wrong Answer, è™šæ‹Ÿæœºç¥ç§˜é‡å¯ <ul><li>99.9999% æ˜¯è‡ªå·±çš„é—®é¢˜</li><li>æœ‰äº¿ç‚¹ç‚¹æ¦‚ç‡æ˜¯ç¼–è¯‘å™¨é”™äº† (ä½†ä½ å¯ä»¥çŸ¥é“)</li><li>æœ‰äº¿ç‚¹ç‚¹ç‚¹ç‚¹æ¦‚ç‡æ˜¯å¤„ç†å™¨é”™äº† (ä½ ä¹Ÿå¯ä»¥çŸ¥é“)</li></ul></li></ul><h3 id="å…¬ç†-2-æœªæµ‹ä»£ç æ°¸è¿œæ˜¯é”™çš„" tabindex="-1"><a class="header-anchor" href="#å…¬ç†-2-æœªæµ‹ä»£ç æ°¸è¿œæ˜¯é”™çš„"><span>å…¬ç† 2ï¼š<strong>æœªæµ‹ä»£ç æ°¸è¿œæ˜¯é”™çš„</strong></span></a></h3><ul><li>æœªåå¤æµ‹è¯•è¿‡çš„ä»£ç éƒ½æ˜¯é”™çš„ <ul><li>å¿«é€Ÿåœ°æµ‹è¯•â†’æµ‹è¯•æ¡†æ¶&amp;&amp;æµ‹è¯•ç”¨ä¾‹</li></ul></li><li>ä½ ä»¥ä¸ºæœ€ä¸å¯èƒ½å‡º bug çš„åœ°æ–¹ï¼Œå¾€å¾€ bug å°±åœ¨é‚£èººç€</li></ul><h2 id="why-is-there-bug" tabindex="-1"><a class="header-anchor" href="#why-is-there-bug"><span>Why is there bug?</span></a></h2><blockquote><p>æ¯ä¸ªé–æˆ˜çš„å¤œæ™šéƒ½ä¼šå‘å‡ºçš„æ€’å¼QAQ</p></blockquote><h3 id="è½¯ä»¶-çš„ä¸¤å±‚å«ä¹‰" tabindex="-1"><a class="header-anchor" href="#è½¯ä»¶-çš„ä¸¤å±‚å«ä¹‰"><span>â€œè½¯ä»¶â€ çš„ä¸¤å±‚å«ä¹‰</span></a></h3><ul><li>äººç±»éœ€æ±‚åœ¨ä¿¡æ¯ä¸–ç•Œçš„<strong>æŠ•å½±</strong><ul><li>ç†è§£é”™éœ€æ±‚ â†’ bug</li></ul></li><li>è®¡ç®—è¿‡ç¨‹çš„ç²¾ç¡® (æ•°å­¦) æè¿° <ul><li>å®ç°é”™è¯¯ â†’ bug</li></ul></li></ul><h3 id="è°ƒè¯•ä¸ºä»€ä¹ˆå›°éš¾" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ä¸ºä»€ä¹ˆå›°éš¾"><span>è°ƒè¯•ä¸ºä»€ä¹ˆå›°éš¾ï¼Ÿ</span></a></h3><ul><li>Bug çš„è§¦å‘ç»å†äº†æ¼«é•¿çš„è¿‡ç¨‹</li><li>å¯è§‚æµ‹çš„ç°è±¡æœªå¿…èƒ½ç›´æ¥å¯¹åº”åˆ° root cause ä¸Š</li></ul><h3 id="fault-error-å’Œ-failure" tabindex="-1"><a class="header-anchor" href="#fault-error-å’Œ-failure"><span>Fault, Error, å’Œ Failure</span></a></h3><p>éœ€æ±‚ â†’ è®¾è®¡ â†’ ä»£ç  (<em>[èµ·å› ]</em> <strong>Fault/bug</strong>) â†’ æ‰§è¡Œ (<em>[ä¸­é—´å› ç´ ]</em> <strong>Error</strong>) â†’ å¤±è´¥ (<em>[ç»“æœ]</em> <strong>Failure</strong>)</p><ul><li><p>æˆ‘ä»¬åªèƒ½è§‚æµ‹åˆ° failure (å¯è§‚æµ‹çš„ç»“æœä¸­çš„é”™è¯¯)</p></li><li><p>æˆ‘ä»¬å¯ä»¥æ£€æŸ¥çŠ¶æ€çš„æ­£ç¡®æ€§ (ä½†éå¸¸è´¹æ—¶)</p></li><li><p>æ— æ³•é¢„çŸ¥ bug åœ¨å“ªé‡Œ (æ¯ä¸€è¡Œ â€œçœ‹èµ·æ¥â€ éƒ½æŒºå¯¹çš„)</p><ul><li><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-c"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">int</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> n</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    for</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">int</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> j </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> j </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> n</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">++</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        ...    </span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>äººæ€»æ˜¯ â€œé»˜è®¤â€ (ä¸é»˜è®¤ï¼Œæµªè´¹çš„æ—¶é—´å°±å¤ªå¤šäº†)</p></li></ul><h2 id="è°ƒè¯•ç†è®º" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ç†è®º"><span>è°ƒè¯•ç†è®º</span></a></h2><blockquote><p><mark>è°ƒè¯•ç†è®º</mark>ï¼šå¦‚æœæˆ‘ä»¬èƒ½åˆ¤å®šä»»æ„ç¨‹åºçŠ¶æ€çš„æ­£ç¡®æ€§ï¼Œé‚£ä¹ˆç»™å®šä¸€ä¸ª failureï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å®šä½åˆ°ç¬¬ä¸€ä¸ª error çš„çŠ¶æ€ï¼Œæ­¤æ—¶çš„ä»£ç å°±æ˜¯ fault (bug)ã€‚</p></blockquote><h3 id="æ¨è®º" tabindex="-1"><a class="header-anchor" href="#æ¨è®º"><span>æ¨è®º</span></a></h3><ul><li>ä¸ºä»€ä¹ˆæˆ‘ä»¬å–œæ¬¢ â€œå•æ­¥è°ƒè¯•â€ï¼Ÿ <ul><li>ä»ä¸€ä¸ªå‡å®šæ­£ç¡®çš„çŠ¶æ€å‡ºå‘</li><li>æ¯ä¸ªè¯­å¥çš„è¡Œä¸ºæœ‰é™ï¼Œå®¹æ˜“åˆ¤å®šæ˜¯å¦æ˜¯ error</li></ul></li><li>ä¸ºä»€ä¹ˆè°ƒè¯•ç†è®ºçœ‹èµ·æ¥å¾ˆæ²¡ç”¨ï¼Ÿ <ul><li><strong>â€œåˆ¤å®šçŠ¶æ€æ­£ç¡®â€ éå¸¸å›°éš¾</strong></li><li>(æ˜¯å¦åœ¨è°ƒè¯• DP é¢˜/å›¾è®ºç®—æ³•æ—¶é™·å…¥æ—¶é—´é»‘æ´ï¼Ÿ)</li></ul></li></ul><h3 id="è°ƒè¯•-è§‚å¯ŸçŠ¶æ€æœºæ‰§è¡Œ-trace-çš„æŸä¸ªä¾§é¢" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•-è§‚å¯ŸçŠ¶æ€æœºæ‰§è¡Œ-trace-çš„æŸä¸ªä¾§é¢"><span>è°ƒè¯• = è§‚å¯ŸçŠ¶æ€æœºæ‰§è¡Œ (trace) çš„æŸä¸ªä¾§é¢</span></a></h3><blockquote><p>ç¨‹åºçš„è¿è¡Œå°±æ˜¯ä¸€ä¸ªçŠ¶æ€æœº</p></blockquote><ul><li>ç¼©å°é”™è¯¯çŠ¶æ€ (error) å¯èƒ½äº§ç”Ÿçš„ä½ç½®</li><li>æå‡ºå‡è®¾ï¼Œä½œå‡ºéªŒè¯</li></ul><h3 id="è§‚å¯ŸçŠ¶æ€æœºæ‰§è¡Œçš„ä¸¤ä¸ªåŸºæœ¬å·¥å…·" tabindex="-1"><a class="header-anchor" href="#è§‚å¯ŸçŠ¶æ€æœºæ‰§è¡Œçš„ä¸¤ä¸ªåŸºæœ¬å·¥å…·"><span>è§‚å¯ŸçŠ¶æ€æœºæ‰§è¡Œçš„ä¸¤ä¸ªåŸºæœ¬å·¥å…·</span></a></h3><ul><li>printf â†’ è‡ªå®šä¹‰ log çš„ trace <ul><li>çµæ´»å¯æ§ã€èƒ½å¿«é€Ÿå®šä½é—®é¢˜å¤§æ¦‚ä½ç½®ã€é€‚ç”¨äºå¤§å‹è½¯ä»¶ <ul><li>ç”¨å¤šä¸ªlogå°†ç¨‹åºçš„è¿è¡ŒçŠ¶æ€åˆ†éš”, è¿›è¡Œbugå®šä½</li></ul></li><li>æ— æ³•ç²¾ç¡®å®šä½ã€å¤§é‡çš„ logs ç®¡ç†èµ·æ¥æ¯”è¾ƒéº»çƒ¦</li></ul></li><li>gdb â†’ æŒ‡ä»¤/è¯­å¥çº§ trace <ul><li>ç²¾ç¡®ã€æŒ‡ä»¤çº§å®šä½ã€ä»»æ„æŸ¥çœ‹ç¨‹åºå†…éƒ¨çŠ¶æ€</li><li>è€—è´¹å¤§é‡æ—¶é—´</li></ul></li></ul><h3 id="å¦‚ä½•ç†è§£è°ƒè¯•ç†è®º" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ç†è§£è°ƒè¯•ç†è®º"><span>å¦‚ä½•ç†è§£è°ƒè¯•ç†è®º</span></a></h3><p>è°ƒè¯•ç†è®ºç»™äº†å¤§å®¶åœ¨é‡åˆ° â€œä»»ä½•é—®é¢˜â€ æ—¶å€™ self-check çš„åˆ—è¡¨ï¼š</p><blockquote><p>è®°ä½: <strong>æœºå™¨æ°¸è¿œæ˜¯å¯¹çš„</strong></p></blockquote><ol><li>æ˜¯æ€æ ·çš„ç¨‹åº (çŠ¶æ€æœº) åœ¨è¿è¡Œï¼Ÿ</li><li>æˆ‘ä»¬é‡åˆ°äº†æ€æ ·çš„ failureï¼Ÿ</li><li>æˆ‘ä»¬èƒ½ä»çŠ¶æ€æœºçš„è¿è¡Œä¸­ä»æ˜“åˆ°éš¾å¾—åˆ°ä»€ä¹ˆä¿¡æ¯ï¼Ÿ</li><li>å¦‚ä½•äºŒåˆ†æ£€æŸ¥è¿™äº›ä¿¡æ¯å’Œ error ä¹‹é—´çš„å…³è”ï¼Ÿ</li></ol><h2 id="è°ƒè¯•ä¸€åˆ‡" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ä¸€åˆ‡"><span>è°ƒè¯•ä¸€åˆ‡</span></a></h2><h3 id="computer-world-ä¸€åˆ‡çš†å¯è°ƒè¯•" tabindex="-1"><a class="header-anchor" href="#computer-world-ä¸€åˆ‡çš†å¯è°ƒè¯•"><span>Computer world: ä¸€åˆ‡çš†å¯è°ƒè¯•</span></a></h3><h4 id="è®¡ç®—æœºéšæ—¶éšåœ°éƒ½åœ¨æ‹’ç»ä½ " tabindex="-1"><a class="header-anchor" href="#è®¡ç®—æœºéšæ—¶éšåœ°éƒ½åœ¨æ‹’ç»ä½ "><span>è®¡ç®—æœºéšæ—¶éšåœ°éƒ½åœ¨æ‹’ç»ä½ </span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bash:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> curl:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> command</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> not</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> found</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">fatal</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> error:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">sys/cdefs.h</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> such</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directory</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> #include &lt;sys/cdefs.h&gt; </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/usr/bin/ld:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cannot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> find</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -lgcc:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> such</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directory</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">make[2]:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> ***</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> such</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directory.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  Stop.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Makefile:31:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> recipe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> target</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">run</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> failed</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸‡èƒ½æ–¹æ³•ï¼šå‡è®¾ä½ é‡åˆ°çš„é—®é¢˜æ˜¯åˆ«äººä¹Ÿé‡åˆ°çš„</strong></p><ul><li>ä½†å¦‚æœè¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„é—®é¢˜ï¼Ÿ</li></ul><h4 id="ç¨‹åº-è®¡ç®—æœºç³»ç»Ÿ-çŠ¶æ€æœº" tabindex="-1"><a class="header-anchor" href="#ç¨‹åº-è®¡ç®—æœºç³»ç»Ÿ-çŠ¶æ€æœº"><span>ç¨‹åº = è®¡ç®—æœºç³»ç»Ÿ = çŠ¶æ€æœº</span></a></h4><blockquote><p>æœºå™¨æ°¸è¿œæ˜¯å¯¹çš„</p></blockquote><p>UNIX ä¸–ç•Œé‡Œä½ åšä»»ä½•äº‹æƒ…éƒ½æ˜¯åœ¨**<mark>ç¼–ç¨‹</mark>**</p><ul><li>â€œç”¨ç¼–ç¨‹è¯­è¨€æŠŠè„‘ä¸­æ‰€æƒ³ä¼ è¾¾ç»™ç”µè„‘â€ <ul><li>å‘½ä»¤è¡Œçš„å‘½ä»¤å°±æ˜¯ç¼–ç¨‹ â†’ ä¸€ä¸ªç®€çŸ­çš„shellè„šæœ¬</li><li>æœ€å¼€å§‹ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢è¿è¡Œ/debugä¹Ÿæ˜¯ç¼–ç¨‹ â†’ å¯ä»¥å‘ç°vscodeåªæ˜¯ä»£æ›¿ä½ æ‰§è¡Œäº†ä¸€äº›å‘½ä»¤è¡Œè¯­å¥</li></ul></li><li>åˆšæ‰çš„é—®é¢˜éƒ½å¯ä»¥çœ‹æˆæ˜¯ç¨‹åº/è¾“å…¥/é…ç½®æœ‰ bug</li></ul><h4 id="è°ƒè¯•ç†è®ºå¯ä»¥ç”¨äºè§£å†³ä»»ä½•-é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ç†è®ºå¯ä»¥ç”¨äºè§£å†³ä»»ä½•-é—®é¢˜"><span>è°ƒè¯•ç†è®ºå¯ä»¥ç”¨äºè§£å†³ä»»ä½• â€œé—®é¢˜â€</span></a></h4><ul><li>curl: command not found</li><li><code>&#39;sys/cdefs.h&#39;</code>: No such file or directory</li><li>Makefile:31: recipe for target &#39;run&#39; failed</li></ul><h3 id="ä½¿ç”¨è°ƒè¯•ç†è®º" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨è°ƒè¯•ç†è®º"><span>ä½¿ç”¨è°ƒè¯•ç†è®º</span></a></h3><h4 id="fault-ç¨‹åº-è¾“å…¥-é…ç½®é”™-â†’-error-â†’-failure-å¯è§‚æµ‹" tabindex="-1"><a class="header-anchor" href="#fault-ç¨‹åº-è¾“å…¥-é…ç½®é”™-â†’-error-â†’-failure-å¯è§‚æµ‹"><span>Fault (ç¨‹åº/è¾“å…¥/é…ç½®é”™) â†’ Error â†’ Failure (å¯è§‚æµ‹)</span></a></h4><ul><li>å¤§éƒ¨åˆ† Error å’Œ Failure éƒ½æ¯”è¾ƒæ¥è¿‘ <ul><li>å‡ºé”™æ—¶ï¼Œä½¿ç”¨ perror æ‰“å°æ—¥å¿—</li></ul></li></ul><h4 id="æ‰¾ä¸åˆ°é—®é¢˜-çš„åŸå› " tabindex="-1"><a class="header-anchor" href="#æ‰¾ä¸åˆ°é—®é¢˜-çš„åŸå› "><span>â€œæ‰¾ä¸åˆ°é—®é¢˜â€ çš„åŸå› </span></a></h4><ul><li><strong>å‡ºé”™åŸå› æŠ¥å‘Šä¸å‡†ç¡®</strong><ul><li>ä¹Ÿå¯èƒ½æ˜¯æ²¡çœ‹æ‡‚</li><li>å¯¹äºå¤§å‹é¡¹ç›®(å¦‚Spring)æ›´æ˜¯è¿™æ ·, å¯¹äºä¸€ç§Failureæœ‰å¤šç§å¯èƒ½çš„Fault, å½“STFWæ—¶, å¾ˆå¯èƒ½ä¼šæœåˆ°å¤šç§ä¸ç›¸å¹²çš„FaultğŸ˜</li><li>è¿™ä¸ªæ—¶å€™æŠŠè¿™äº›æŠ¥é”™ä¿¡æ¯ä¸¢ç»™LLMä¸å¤±ä¸ºä¸€ä¸ªå¥½é€‰æ‹©ğŸ˜„</li></ul></li><li><strong>ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹çœ‹ä¸åˆ°</strong><ul><li>é‚£æˆ‘ä»¬æƒ³åŠæ³• â€œçœ‹åˆ°â€ çŠ¶æ€æœºçš„æ‰§è¡Œè¿‡ç¨‹å°±å¥½äº†ï¼</li></ul></li></ul><h4 id="ç†è§£çŠ¶æ€æœºæ‰§è¡Œ-ä¸æ˜¯-è°ƒè¯•-ä¹Ÿæ˜¯-è°ƒè¯•" tabindex="-1"><a class="header-anchor" href="#ç†è§£çŠ¶æ€æœºæ‰§è¡Œ-ä¸æ˜¯-è°ƒè¯•-ä¹Ÿæ˜¯-è°ƒè¯•"><span>ç†è§£çŠ¶æ€æœºæ‰§è¡Œï¼šä¸æ˜¯ â€œè°ƒè¯•â€ï¼Œä¹Ÿæ˜¯ â€œè°ƒè¯•â€</span></a></h4><ul><li><code>ssh</code>ï¼šä½¿ç”¨ <code>-v</code> é€‰é¡¹æ£€æŸ¥æ—¥å¿—</li><li><code>gcc</code>ï¼šä½¿ç”¨ <code>-v</code> é€‰é¡¹æ‰“å°å„ç§è¿‡ç¨‹</li><li><code>make</code>ï¼šä½¿ç”¨ <code>-nB</code> é€‰é¡¹æŸ¥çœ‹å®Œæ•´å‘½ä»¤å†å²</li></ul><h4 id="è°ƒè¯•-ä¸ä»…æ˜¯-è°ƒè¯•å™¨" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•-ä¸ä»…æ˜¯-è°ƒè¯•å™¨"><span>è°ƒè¯•ï¼šä¸ä»…æ˜¯ â€œè°ƒè¯•å™¨â€</span></a></h4><ul><li>Profiler: <code>perf</code> - â€œé‡‡æ ·â€ çŠ¶æ€æœº</li><li>Trace: <code>strace</code> - è¿½è¸ªç³»ç»Ÿè°ƒç”¨</li></ul><h4 id="ä¾‹-sys-cdefs-h-no-such-file-or-directory" tabindex="-1"><a class="header-anchor" href="#ä¾‹-sys-cdefs-h-no-such-file-or-directory"><span>ä¾‹: &#39;sys/cdefs.h&#39;: No such file or directory</span></a></h4><ul><li>(è¿™çœ‹èµ·æ¥æ˜¯ç”¨ <code>perror()</code> æ‰“å°å‡ºæ¥çš„ï¼)</li><li>é—®é¢˜åˆ†æ <ul><li><code>#include</code> = å¤åˆ¶ç²˜è´´ï¼Œè‡ªç„¶ä¼šç»è¿‡è·¯å¾„è§£æ</li><li>æ˜æ˜ <code>/usr/include/x86_64-linux-gnu/sys/cdefs.h</code> æ˜¯å­˜åœ¨çš„ (<code>man 1 locate</code>)</li></ul></li></ul><h5 id="ä¸¤ç§æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä¸¤ç§æ–¹æ³•"><span>ä¸¤ç§æ–¹æ³•</span></a></h5><ul><li>æ—¥å¿—: è¿è¡Œæ—¶æ·»åŠ  <code>--verbose</code>é€‰é¡¹</li><li>straceï¼Œç›´æ¥çœ‹è®¿é—®è¿‡çš„æ–‡ä»¶ï¼</li></ul><h3 id="è°ƒè¯•ç¨‹åº" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ç¨‹åº"><span>è°ƒè¯•ç¨‹åº</span></a></h3><h4 id="gdb-çŠ¶æ€æœºæŸ¥çœ‹å™¨" tabindex="-1"><a class="header-anchor" href="#gdb-çŠ¶æ€æœºæŸ¥çœ‹å™¨"><span>GDBï¼šçŠ¶æ€æœºæŸ¥çœ‹å™¨</span></a></h4><ul><li>å…è®¸æˆ‘ä»¬æ§åˆ¶æ‰§è¡Œæµã€æ£€æŸ¥çŠ¶æ€</li><li>è€Œä¸”åŸç”Ÿæ”¯æŒ Python <ul><li>å› æ­¤æ‹¥æœ‰ä¼—å¤šå‰ç«¯ï¼šgdb-gui, cgdb, pwndbg, gdb-dashboard, vscode, ddd, ..</li><li>(æˆ‘è§‰å¾—æœ€å¥½ç”¨çš„è¿˜æ˜¯è‡ªå·±æŒ‰éœ€è½»é‡å®šåˆ¶)</li></ul></li></ul><h4 id="ä½¿ç”¨-gnu-debugger" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-gnu-debugger"><span>ä½¿ç”¨ GNU Debugger</span></a></h4>`,57)),s("ul",null,[s("li",null,[i[1]||(i[1]=a("GDB: æœ€å¸¸ç”¨çš„å‘½ä»¤åœ¨",-1)),e(h,{href:"./%E8%B0%83%E8%AF%95%E7%90%86%E8%AE%BA.assets/gdb-cheat-sheet.pdf"},{default:r(()=>[...i[0]||(i[0]=[a("gdb cheat sheet",-1)])]),_:1}),i[2]||(i[2]=s("ul",null,[s("li",null,"æ‰“å°è´´åœ¨ç”µè„‘å‰ï¼Œè°ƒè¯•æ—¶å€™çœ‹ä¸€éï¼Œå¾ˆå¿«å°±å¤§è‡´è®°ä½äº†")],-1))])]),i[11]||(i[11]=l('<h4 id="æˆ‘ä»¬ä¾æ—§éœ€è¦-rtfm" tabindex="-1"><a class="header-anchor" href="#æˆ‘ä»¬ä¾æ—§éœ€è¦-rtfm"><span>æˆ‘ä»¬ä¾æ—§éœ€è¦ <a href="https://sourceware.org/gdb/current/onlinedocs/gdb.html/" target="_blank" rel="noopener noreferrer">RTFM</a></span></a></h4><ul><li>å¦åˆ™æˆ‘ä»¬ç”šè‡³ä¸çŸ¥é“ gdb æœ‰å¤šå¼ºå¤§</li></ul><h4 id="cheat-sheet-é‡Œæ²¡æœ‰çš„åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#cheat-sheet-é‡Œæ²¡æœ‰çš„åŠŸèƒ½"><span>Cheat Sheet é‡Œæ²¡æœ‰çš„åŠŸèƒ½</span></a></h4><ul><li>Text UI (æˆ‘å·²ç»é»˜è®¤å¯åŠ¨)</li><li>Stack, optimized code, macros, ...</li><li>Reverse execution</li><li>Record and replay</li><li>Scheduler</li></ul><h2 id="è°ƒè¯•ç†è®ºçš„åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ç†è®ºçš„åº”ç”¨"><span>è°ƒè¯•ç†è®ºçš„åº”ç”¨</span></a></h2><p><strong>éœ€æ±‚ â†’ è®¾è®¡ â†’ ä»£ç  â†’ Fault â†’ Error â†’ Failure</strong></p><ul><li>â€œTechnical Debtâ€: æ¯å½“ä½ å†™å‡ºä¸å¥½ç»´æŠ¤çš„ä»£ç ï¼Œä½ éƒ½åœ¨ç»™ä½ æœªæ¥çš„è°ƒè¯•/éœ€æ±‚å˜æ›´æŒ–å‘ <ul><li>è®ºæ•æ·å¼€å‘ä¸ğŸ’©å±±ä»£ç </li></ul></li></ul><h3 id="è°ƒè¯•ç†è®º-æ¨è®º1" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ç†è®º-æ¨è®º1"><span>è°ƒè¯•ç†è®º: æ¨è®º1</span></a></h3>',8)),s("h4",u,[s("a",c,[s("span",null,[e(n,{style:{color:"blue"}},{default:r(()=>[...i[3]||(i[3]=[a("éœ€æ±‚ â†’ è®¾è®¡ â†’ ä»£ç  â†’ Fault",-1)])]),_:1}),i[4]||(i[4]=a(" â†’ Error â†’ Failure",-1))])])]),i[12]||(i[12]=l('<ul><li><strong>å†™å¥½ä»£ç </strong>ï¼šä¸è¦åœ¨å†™ä»£ç çš„æ—¶å€™å¿˜è®°éœ€æ±‚å’Œè®¾è®¡</li><li>ä¸è¨€è‡ªæ˜ (Self-explanatory) <ul><li>èƒ½é€šè¿‡å­—é¢çŸ¥é“éœ€æ±‚ (æµç¨‹)</li></ul></li><li>ä¸è¨€è‡ªè¯ (Self-evident) <ul><li>èƒ½é€šè¿‡å­—é¢ç¡®è®¤ä»£ç å’Œéœ€æ±‚ä¸€è‡´</li></ul></li></ul><h3 id="ä¸€ä¸ªè¯„åˆ¤æ ‡å‡†" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªè¯„åˆ¤æ ‡å‡†"><span><strong>ä¸€ä¸ªè¯„åˆ¤æ ‡å‡†</strong></span></a></h3><ul><li>AI æ˜¯å¦èƒ½æ­£ç¡®ç†è§£/ç»´æŠ¤ä½ çš„ä»£ç : <a href="http://git.nju.edu.cn/jyy/toybox" target="_blank" rel="noopener noreferrer">toybox</a></li></ul><blockquote><p>Programs are meant to be read by humans and only incidentally for computers to execute. (Donald E. Knuth)</p><p>ç¨‹åºé¦–å…ˆæ˜¯ç»™äººè¯»çš„, å…¶æ¬¡æ‰æ˜¯ç»™æœºå™¨å»æ‰§è¡Œ</p></blockquote><h3 id="è°ƒè¯•ç†è®º-æ¨è®º-2" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ç†è®º-æ¨è®º-2"><span>è°ƒè¯•ç†è®ºï¼šæ¨è®º (2)</span></a></h3>',5)),s("h4",g,[s("a",f,[s("span",null,[i[6]||(i[6]=a("éœ€æ±‚ â†’ è®¾è®¡ â†’ ä»£ç  â†’ ",-1)),e(n,{style:{color:"blue"}},{default:r(()=>[...i[5]||(i[5]=[a("Fault â†’ Error",-1)])]),_:1}),i[7]||(i[7]=a(" â†’ Failure",-1))])])]),i[13]||(i[13]=l('<ul><li><strong>åšå¥½æµ‹è¯•</strong>ï¼šæœªæµ‹ä»£ç æ°¸è¿œæ˜¯é”™çš„ <ul><li>æ®‹é…·çš„ç°å®ï¼šç›¸ä¿¡è‡ªå·±å†™ä¸å¯¹ä»£ç </li><li>LLM ä¸€æ ·ç»å¸¸çŠ¯ â€œå‚»â€ é”™</li></ul></li></ul><h4 id="small-scope-hypothesis" tabindex="-1"><a class="header-anchor" href="#small-scope-hypothesis"><span>Small Scope Hypothesis</span></a></h4><blockquote><p>If a system does not have a counterexample (i.e., an error or a bug) for a certain property within a small scope (a limited size or configuration), then it is unlikely to have a counterexample in a larger scope. (Daniel Jackson)</p><p>å¦‚æœä¸€ä¸ªç³»ç»Ÿåœ¨æœ‰é™çš„èŒƒå›´ï¼ˆæœ‰é™çš„å¤§å°æˆ–é…ç½®ï¼‰å†…å¯¹æŸä¸ªç‰¹å®šå±æ€§æ²¡æœ‰åä¾‹ï¼ˆå³é”™è¯¯æˆ–æ¼æ´ï¼‰ï¼Œé‚£ä¹ˆå®ƒåœ¨æ›´å¤§çš„èŒƒå›´å†…ä¹Ÿä¸å¤ªå¯èƒ½æœ‰åä¾‹ã€‚</p></blockquote><h3 id="è°ƒè¯•ç†è®º-æ¨è®º-3" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•ç†è®º-æ¨è®º-3"><span>è°ƒè¯•ç†è®ºï¼šæ¨è®º (3)</span></a></h3>',4)),s("h4",b,[s("a",y,[s("span",null,[i[9]||(i[9]=a("éœ€æ±‚ â†’ è®¾è®¡ â†’ ä»£ç  â†’ Fault â†’ ",-1)),e(n,{style:{color:"blue"}},{default:r(()=>[...i[8]||(i[8]=[a("Error â†’ Failure",-1)])]),_:1})])])]),i[14]||(i[14]=l("<ul><li>æµ‹è¯•çš„ç›®çš„: å°†éšè—çš„Faultæš´éœ²å‡ºæ¥ å˜æˆå¯è§‚æµ‹çš„Failure</li><li><strong>å¤šå†™æ–­è¨€ASSERT</strong>ï¼šæŠŠä»£ç ä¸­çš„ â€œéšè—æ€§è´¨â€ å†™å‡ºæ¥ <ul><li>æœºå™¨æ€»æ˜¯å¯¹çš„, ä½†äººæ€»å¯èƒ½çŠ¯é”™â†’åœ¨ä½ å‘ç°bugå‰, æè¿°æ­£ç¡®ä»£ç åº”è¯¥æœ‰çš„æ€§è´¨, ç”¨æ–­è¨€æ¥è¡¨è¿°ä»–ä»¬</li><li>Error æš´éœ²çš„è¶Šæ™šï¼Œè°ƒè¯•è¶Šå›°éš¾</li><li>è¿½æº¯å¯¼è‡´ assert failure çš„å˜é‡å€¼ (slice) é€šå¸¸å¯ä»¥å¿«é€Ÿå®šä½åˆ° bug</li></ul></li></ul><blockquote><p>â€œThere are two ways of constructing a software design: One way is to make it so simple that there are obviously no deficiencies, and the other way is to make it so complicated that there are no obvious deficienciesâ€ (Tony Hoare)</p><p>æ„å»ºè½¯ä»¶è®¾è®¡æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ–¹å¼æ˜¯è®©å®ƒç®€å•åˆ°æ˜æ˜¾æ²¡æœ‰ç¼ºé™·ï¼›å¦ä¸€ç§æ–¹å¼æ˜¯è®©å®ƒå¤æ‚åˆ°æ²¡æœ‰æ˜æ˜¾çš„ç¼ºé™·</p><ul><li><strong>ç®€å•åˆ°æ— æ‡ˆå¯å‡»</strong>ï¼šç¬¬ä¸€ç§æ–¹æ³•æ˜¯è®¾è®¡ä¸€ä¸ªæå…¶ç®€å•æ˜äº†çš„ç³»ç»Ÿï¼Œç®€å•åˆ°æ²¡æœ‰ä»»ä½•æ˜æ˜¾çš„ç¼ºé™·æˆ–æ¼æ´</li><li><strong>å¤æ‚åˆ°éš¾ä»¥å¯Ÿè§‰ç¼ºé™·</strong>ï¼šç¬¬äºŒç§æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå¦‚æ­¤å¤æ‚å’Œæ·±å¥¥çš„è®¾è®¡ï¼Œä»¥è‡³äºç¼ºé™·å¹¶ä¸æ˜æ˜¾</li></ul></blockquote>",2))])}const D=d(k,[["render",m]]),C=JSON.parse('{"path":"/blog/qswio9dx/","title":"è°ƒè¯•ç†è®º","lang":"zh-CN","frontmatter":{"date":{"created":"2024-05-04T00:00:00.000Z","updated":"2024-05-04T00:00:00.000Z"},"categories":["æ‚é¡¹"],"comments":true,"title":"è°ƒè¯•ç†è®º","createTime":"2024/06/30 18:34:21","permalink":"/blog/qswio9dx/"},"readingTime":{"minutes":7.33,"words":2198},"git":{"createdTime":1714806828000,"updatedTime":1764835811000,"contributors":[{"name":"yJader_xx","username":"","email":"yj1425840290@gmail.com","commits":2,"avatar":"https://gravatar.com/avatar/d114b38a3a1c3bc953fd1edf640e4ea41ad9e03ff609b52a5d7ee42d8d8da8d4?d=retro"},{"name":"yJader","username":"yJader","email":"76905040+yJader@users.noreply.github.com","commits":2,"avatar":"https://avatars.githubusercontent.com/yJader?v=4","url":"https://github.com/yJader"},{"name":"yJader@mba","username":"","email":"yjader@foxmail.com","commits":2,"avatar":"https://gravatar.com/avatar/92def0cdfefbca5d6297bdc419bf36d1d3e6f7ea47c613f809dff655a7536adb?d=retro"}]},"filePathRelative":"blog/posts/è°ƒè¯•ç†è®º.md","headers":[],"categoryList":[]}');export{D as comp,C as data};
